sudo: required

services:
  - docker

before_install:
- docker build -t dyngb-trusty -f ./travis_custom/Dockerfile .
- docker run dyngb-trusty:latest sudo git clone https://github.com/stack-of-tasks/dynamic_graph_bridge.git /repo

script:
- docker exec dyngb-trusty sudo make /build
- docker exec dyngb-trusty sudo cmake -DCMAKE_SOURCE_DIR=/repo -DCMAKE_BINARY_DIR=/build
- docker exec dyngb-trusty sudo cmake /build
